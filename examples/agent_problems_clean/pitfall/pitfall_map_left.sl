(set-logic LIA) (define-fun wall-left ((curr-position Int)) Bool (or (= curr-position (- 6)) (or (= curr-position (- 9)) (or (= curr-position (- 10)) (or (= curr-position (- 11)) (or (= curr-position (- 12)) (or (= curr-position (- 14)) (= curr-position 3)))))))) (define-fun wall-right ((curr-position Int)) Bool (or (= curr-position (- 5)) (or (= curr-position (- 13)) (or (= curr-position 0) (= curr-position 1))))) (define-fun ladder ((curr-position Int)) Bool (or (= curr-position (- 6)) (or (= curr-position (- 9)) (or (= curr-position (- 10)) (or (= curr-position (- 11)) (or (= curr-position (- 12)) (or (= curr-position (- 14)) (or (= curr-position 3) (or (= curr-position (- 5)) (or (= curr-position (- 13)) (or (= curr-position 0) (= curr-position 1)))))))))))) (define-fun treasure ((curr-position Int)) Bool (or (= curr-position (- 17)) (= curr-position 50))) (define-fun next-position ((curr-position Int) (underground Bool) (way Int)) Int (ite (= way 0) curr-position (ite (and (=> underground (ladder curr-position)) (= way 1)) (+ curr-position 1) (ite (and (=> (not underground) (ladder curr-position)) (and (not (wall-right curr-position)) (= way 2))) (+ curr-position 3) (ite (and (=> (not underground) (ladder curr-position)) (and (not (wall-left curr-position)) (= way 3))) (+ curr-position (- 3)) (ite (and (=> underground (ladder curr-position)) (= way 4)) (+ curr-position (- 1)) curr-position)))))) (define-fun next-state ((curr-position Int) (underground Bool) (way Int)) Bool (ite (= way 0) underground (ite (and (=> underground (ladder curr-position)) (= way 1)) false (ite (and (=> (not underground) (ladder curr-position)) (and (not (wall-right curr-position)) (= way 2))) true (ite (and (=> (not underground) (ladder curr-position)) (and (not (wall-left curr-position)) (= way 3))) true (ite (and (=> underground (ladder curr-position)) (= way 4)) false underground)))))) (synth-fun move ((curr-position Int) (underground Bool)) Int ((Start Int) (Travel Int) (MoveId Int) (CondInt Int) (StartBool Bool)) ((Start Int ((ite (treasure curr-position) 0 Travel))) (Travel Int (MoveId (ite StartBool Travel Travel))) (MoveId Int (0 1 2 3 4)) (CondInt Int (curr-position (- 1) (- 2) (- 3) (- 4) (- 5) (- 6) (- 7) (- 8) (- 9) (- 10) (- 11) (- 12) (- 13) (- 14) (- 15) (- 16) (- 17) 0 1 2 3 4 5)) (StartBool Bool ((and StartBool StartBool) underground (wall-left curr-position) (wall-right curr-position) (ladder curr-position) (or StartBool StartBool) (not StartBool) (<= CondInt CondInt) (= CondInt CondInt))))) (declare-var pos0 Int) (declare-var under0 Bool) (declare-var mov0 Int) (declare-var pos1 Int) (declare-var under1 Bool) (declare-var mov1 Int) (declare-var pos2 Int) (declare-var under2 Bool) (declare-var mov2 Int) (declare-var pos3 Int) (declare-var under3 Bool) (declare-var mov3 Int) (declare-var pos4 Int) (declare-var under4 Bool) (declare-var mov4 Int) (declare-var pos5 Int) (declare-var under5 Bool) (declare-var mov5 Int) (declare-var pos6 Int) (declare-var under6 Bool) (declare-var mov6 Int) (declare-var pos7 Int) (declare-var under7 Bool) (declare-var mov7 Int) (declare-var pos8 Int) (declare-var under8 Bool) (declare-var mov8 Int) (declare-var pos9 Int) (declare-var under9 Bool) (declare-var mov9 Int) (declare-var pos10 Int) (declare-var under10 Bool) (declare-var mov10 Int) (declare-var pos11 Int) (declare-var under11 Bool) (declare-var mov11 Int) (declare-var pos12 Int) (declare-var under12 Bool) (declare-var mov12 Int) (declare-var pos13 Int) (declare-var under13 Bool) (declare-var mov13 Int) (declare-var pos14 Int) (declare-var under14 Bool) (declare-var mov14 Int) (declare-var pos15 Int) (declare-var under15 Bool) (declare-var mov15 Int) (declare-var pos16 Int) (declare-var under16 Bool) (declare-var mov16 Int) (declare-var pos17 Int) (declare-var under17 Bool) (declare-var mov17 Int) (declare-var pos18 Int) (declare-var under18 Bool) (declare-var mov18 Int) (declare-var pos19 Int) (declare-var under19 Bool) (declare-var mov19 Int) (declare-var pos20 Int) (declare-var under20 Bool) (declare-var mov20 Int) (constraint (=> (and (= pos0 0) (and (not under0) (and (= mov0 (move pos0 under0)) (and (= pos1 (next-position pos0 under0 mov0)) (and (= under1 (next-state pos0 under0 mov0)) (and (= mov1 (move pos1 under1)) (and (= pos2 (next-position pos1 under1 mov1)) (and (= under2 (next-state pos1 under1 mov1)) (and (= mov2 (move pos2 under2)) (and (= pos3 (next-position pos2 under2 mov2)) (and (= under3 (next-state pos2 under2 mov2)) (and (= mov3 (move pos3 under3)) (and (= pos4 (next-position pos3 under3 mov3)) (and (= under4 (next-state pos3 under3 mov3)) (and (= mov4 (move pos4 under4)) (and (= pos5 (next-position pos4 under4 mov4)) (and (= under5 (next-state pos4 under4 mov4)) (and (= mov5 (move pos5 under5)) (and (= pos6 (next-position pos5 under5 mov5)) (and (= under6 (next-state pos5 under5 mov5)) (and (= mov6 (move pos6 under6)) (and (= pos7 (next-position pos6 under6 mov6)) (and (= under7 (next-state pos6 under6 mov6)) (and (= mov7 (move pos7 under7)) (and (= pos8 (next-position pos7 under7 mov7)) (and (= under8 (next-state pos7 under7 mov7)) (and (= mov8 (move pos8 under8)) (and (= pos9 (next-position pos8 under8 mov8)) (and (= under9 (next-state pos8 under8 mov8)) (and (= mov9 (move pos9 under9)) (and (= pos10 (next-position pos9 under9 mov9)) (and (= under10 (next-state pos9 under9 mov9)) (and (= mov10 (move pos10 under10)) (and (= pos11 (next-position pos10 under10 mov10)) (and (= under11 (next-state pos10 under10 mov10)) (and (= mov11 (move pos11 under11)) (and (= pos12 (next-position pos11 under11 mov11)) (and (= under12 (next-state pos11 under11 mov11)) (and (= mov12 (move pos12 under12)) (and (= pos13 (next-position pos12 under12 mov12)) (and (= under13 (next-state pos12 under12 mov12)) (and (= mov13 (move pos13 under13)) (and (= pos14 (next-position pos13 under13 mov13)) (and (= under14 (next-state pos13 under13 mov13)) (and (= mov14 (move pos14 under14)) (and (= pos15 (next-position pos14 under14 mov14)) (and (= under15 (next-state pos14 under14 mov14)) (and (= mov15 (move pos15 under15)) (and (= pos16 (next-position pos15 under15 mov15)) (and (= under16 (next-state pos15 under15 mov15)) (and (= mov16 (move pos16 under16)) (and (= pos17 (next-position pos16 under16 mov16)) (and (= under17 (next-state pos16 under16 mov16)) (and (= mov17 (move pos17 under17)) (and (= pos18 (next-position pos17 under17 mov17)) (and (= under18 (next-state pos17 under17 mov17)) (and (= mov18 (move pos18 under18)) (and (= pos19 (next-position pos18 under18 mov18)) (and (= under19 (next-state pos18 under18 mov18)) (and (= mov19 (move pos19 under19)) (and (= pos20 (next-position pos19 under19 mov19)) (and (= under20 (next-state pos19 under19 mov19)) (= mov20 (move pos20 under20)))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))) (treasure pos14))) (check-synth)