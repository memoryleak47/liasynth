(set-logic LIA) (define-fun get-y ((currPoint Int)) Int (ite (< currPoint 6) 0 (ite (< currPoint 12) 1 (ite (< currPoint 18) 2 (ite (< currPoint 24) 3 4))))) (define-fun get-x ((currPoint Int)) Int (- currPoint (ite (< currPoint 6) 0 (ite (< currPoint 12) 6 (ite (< currPoint 18) 12 (ite (< currPoint 24) 18 24)))))) (define-fun interpret-move ((currPoint Int) (move Int)) Int (ite (= move 1) (ite (or (< (+ (get-y currPoint) (- 1)) 0) (>= (+ (get-y currPoint) (- 1)) 4)) currPoint (+ currPoint (- 6))) (ite (= move 2) (ite (or (<= (+ (get-x currPoint) 1) 0) (>= (+ (get-x currPoint) 1) 6)) currPoint (+ currPoint 1)) (ite (= move 0) (ite (or (<= (+ (get-y currPoint) 1) 0) (>= (+ (get-y currPoint) 1) 5)) currPoint (+ currPoint 6)) (ite (= move 3) (ite (or (< (+ (get-x currPoint) (- 1)) 0) (>= (+ (get-x currPoint) (- 1)) 5)) currPoint (+ currPoint (- 1))) currPoint))))) (synth-fun move ((currPoint Int)) Int ((Start Int) (Drive Int) (MoveId Int) (CondInt Int) (StartBool Bool)) ((Start Int ((ite (= currPoint 0) 5 Drive))) (Drive Int (MoveId (ite StartBool Drive Drive))) (MoveId Int (0 1 2 3 4 5)) (CondInt Int ((get-y currPoint) (get-x currPoint) 0 1 2 3 4 5)) (StartBool Bool ((and StartBool StartBool) (or StartBool StartBool) (not StartBool) (<= CondInt CondInt) (= CondInt CondInt))))) (declare-var pos0 Int) (declare-var pos1 Int) (declare-var pos2 Int) (declare-var pos3 Int) (declare-var pos4 Int) (declare-var pos5 Int) (declare-var pos6 Int) (declare-var pos7 Int) (declare-var pos8 Int) (declare-var pos9 Int) (declare-var pos10 Int) (declare-var pos11 Int) (declare-var pos12 Int) (declare-var pos13 Int) (declare-var pos14 Int) (define-fun safe ((state Int)) Bool (and (>= state 0) (and (< state 30) (and (not (= state 2)) (and (not (= state 8)) (and (not (= state 19)) (and (not (= state 21)) (and (not (= state 25)) (not (= state 27)))))))))) (constraint (=> (and (= pos0 29) (and (= pos1 (interpret-move pos0 (move pos0))) (and (= pos2 (interpret-move pos1 (move pos1))) (and (= pos3 (interpret-move pos2 (move pos2))) (and (= pos4 (interpret-move pos3 (move pos3))) (and (= pos5 (interpret-move pos4 (move pos4))) (and (= pos6 (interpret-move pos5 (move pos5))) (and (= pos7 (interpret-move pos6 (move pos6))) (and (= pos8 (interpret-move pos7 (move pos7))) (and (= pos9 (interpret-move pos8 (move pos8))) (and (= pos10 (interpret-move pos9 (move pos9))) (and (= pos11 (interpret-move pos10 (move pos10))) (and (= pos12 (interpret-move pos11 (move pos11))) (and (= pos13 (interpret-move pos12 (move pos12))) (= pos14 (interpret-move pos13 (move pos13))))))))))))))))) (and (= pos14 0) (and (safe pos0) (and (safe pos1) (and (safe pos2) (and (safe pos3) (and (safe pos4) (and (safe pos5) (and (safe pos6) (and (safe pos7) (and (safe pos8) (and (safe pos9) (and (safe pos10) (and (safe pos11) (and (safe pos12) (and (safe pos13) (safe pos14)))))))))))))))))) (check-synth)